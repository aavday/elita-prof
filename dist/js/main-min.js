"use strict";$(document).ready(function(){$(".owl-carousel").each(function(){var t=$(this).data();$(this).owlCarousel(t)}),$(".js-mask").each(function(){$(this).mask($(this).data().mask.mask)}),$("form.ajax-form").on("submit",function(t){t.preventDefault();var e=$(this);$.ajax({url:e.attr("data-handlerUrl"),type:"POST",data:e.serialize(),dataType:"json",success:function(t){console.log(t),e.text("Спасибо! Форма отправлена")},error:function(t,e){console.log(t,e)}})}),document.querySelector(".header-mob__nav-toggle").addEventListener("click",function(){document.querySelector(".header").classList.toggle("active")});var t=document.querySelectorAll(".blog-main__right-item");t&&t.forEach(function(e){e.addEventListener("click",function(){document.querySelectorAll(".blog-main__left-item").forEach(function(t){return t.classList.remove("active")}),document.querySelector("#"+e.getAttribute("data-blog-item")).classList.add("active"),t.forEach(function(t){return t.classList.remove("active")}),e.classList.add("active")})});var e=function(t){var e=document.querySelector(".cart-icon");t?(e.classList.remove("d-none"),e.querySelector(".cart-icon__amount-of-items").innerHTML=t):e.classList.add("d-none")},a=JSON.parse(localStorage.getItem("cartItems"));a&&e(a.length);var c=document.querySelectorAll(".catalog-item__add-to-cart-btn");document.querySelectorAll(".catalog-item__quantity");c&&c.forEach(function(t){var c=t.getAttribute("data-itemId");a&&a.forEach(function(e){e===c&&(t.classList.add("added"),t.setAttribute("title","Нажмите, чтобы убрать товар из корзины"),t.innerHTML='<i class="fa-solid fa-check me-2"></i>В корзине')}),t.addEventListener("click",function(o){if(o.preventDefault(),t.classList.contains("added"))t.setAttribute("title","Нажмите, чтобы добавить товар в корзину"),t.innerHTML='<i class="fas fa-cart-arrow-down me-2"></i>В корзину',a.forEach(function(t,e){t===c&&a.splice(e,1)});else{t.setAttribute("title","Нажмите, чтобы убрать товар из корзины"),t.innerHTML='<i class="fa-solid fa-check me-2"></i>В корзине',a||(a=[]);var i=!1;a.forEach(function(t){t===c&&(i=!0)}),i||a.push(c)}t.classList.toggle("added"),localStorage.setItem("cartItems",JSON.stringify(a)),e(a.length),console.log(localStorage.getItem("cartItems"))})})});