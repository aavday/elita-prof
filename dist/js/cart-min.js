"use strict";$(document).ready(function(){var e=localStorage.getItem("cartItems"),t=document.querySelector(".cart .loader"),c=document.querySelector(".cart-items");if(e){$.ajax({url:"/ajax/cart/getItemsData.php",type:"POST",data:"items="+e,success:function(e){e=JSON.parse(e),console.log(e);var a="";e.forEach(function(e){a+='\n                        <div class="cart-item p-3 my-3 rounded shadow border-bold-purple-dark d-flex justify-content-between align-items-center" id="'.concat(e.ID,'">\n                            <div class="d-flex align-items-center">\n                                <img src="').concat(e.PREVIEW_PICTURE_SRC,'" alt="').concat(e.NAME,'" class="cart-item__img">\n                                <a href="').concat(e.DETAIL_PAGE_URL,'" class="cart-item__name fw-bold fs-big ms-4">').concat(e.NAME,'</a>\n                            </div>\n                            <div class="d-flex align-items-center">\n                            '),null!==e.PROPERTY_PRICE_VALUE&&(a+='<span class="cart-item__price justify-self-end me-4">От <b>'.concat(e.PROPERTY_PRICE_VALUE," р.</b></span>")),a+='<span class="cart-item__delete" data-itemId="'.concat(e.ID,'"></span>\n                            </div>\n                        </div>\n                    ')}),c.innerHTML=a,t.classList.add("d-none")},error:function(e,t){console.log(e,t)}});var a=document.querySelectorAll(".cart-item__delete"),n=JSON.parse(e);a.forEach(function(e){e.addEventListener("click",function(){console.log("test");var t=e.getAttribute("data-itemId");n.forEach(function(e,c){e===t&&n.splice(c,1)}),localStorage.setItem("cartItems",JSON.stringify(n)),document.querySelector("#"+t).remove()})})}else t.classList.add("d-none"),document.querySelector(".cart__empty-text").classList.remove("d-none")});